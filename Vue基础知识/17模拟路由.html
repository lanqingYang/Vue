<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <!-- 切换组件的超链接 -->
      <a href="#/zhuye">主页</a>
      <a href="#/keji">科技</a>
      <a href="#/caijing">财经</a>
      <a href="#/yule">娱乐</a>
      <!-- 根据 ：is 属性指定的组件名称，把对应的组件渲染到component标签所在的位置
        可以把component 标签当作是【组件的占位符】
    -->
      <component :is="nowName"></component>
    </div>
  </body>
  <script>
    //定义4个被切换的组件
    const zhuye = {
      template: "<h1>主页</h1>",
    };
    const keji = {
      template: "<h1>科技</h1>",
    };
    const caijing = {
      template: "<h1>财经</h1>",
    };
    const yule = {
      template: "<h1>娱乐</h1>",
    };

    // 实例对象
    var vm = new Vue({
      el: "#app",
      data: {
        nowName: "zhuye",
      },
      //注册私有组件
      components: {
        zhuye: zhuye,
        keji: keji,
        caijing: caijing,
        yule: yule,
      },
    });

    //监听window的onhashchange事件，根据获取到的最新的hash值，切换要显示的组件的名称
    window.onhashchange = function () {
      //通过location.hash 获取到最新的hash的值
      console.log(location.hash);
      //   switch (location.hash.slice(1)) {
      //     case "/zhuye":
      //       vm.nowName = "zhuye";
      //       break;
      //     case "/keji":
      //       vm.nowName = "keji";
      //       break;
      //     case "/caijing":
      //       vm.nowName = "caijing";
      //       break;
      //     case "/yule":
      //       vm.nowName = "yule";
      //       break;
      //   }

      //更简便的写法
      vm.nowName = location.hash.slice(2);
    };
  </script>
</html>
